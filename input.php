<?php

// Получение JSON-запроса

$json = file_get_contents('php://input');

// Проверка, что запрос содержит данные

if (!empty($json)) {

    // Декодирование JSON-запроса в ассоциативный массив

    $data = json_decode($json, true);

    // Проверка, что JSON был успешно декодирован

    if ($data !== null) {

        // Генерация уникального имени файла

        $filename = 'request_' . uniqid() . '.json';

        // Путь для сохранения файла (может быть изменен по вашему усмотрению)

        $path = 'json/' . $filename;

        // Сохранение JSON-запроса в файл

        file_put_contents($path, $json);

        // Вывод сообщения об успешном сохранении

        echo "JSON-запрос успешно сохранен в файле: $filename";

    } else {

        // Вывод сообщения об ошибке декодирования JSON

        echo "Ошибка декодирования JSON-запроса";

    }

} else {

    // Вывод сообщения об ошибке отсутствия данных

    echo "Отсутствуют данные в JSON-запросе";

}

?>
